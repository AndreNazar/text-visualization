import{r as n,u as h,g as _,d as j,j as t,B as o}from"./index-Cd7rz0jf.js";const p="_container_1bqt7_1",B="_list_1bqt7_9",b="_item_1bqt7_14",g="_item_text_1bqt7_23",v="_controls_1bqt7_29",C="_empty_1bqt7_33",a={container:p,list:B,item:b,item_text:g,controls:v,empty:C};function f(s){return s>=1073741824?`${(s/1073741824).toFixed(1)} ГБ`:s>=1048576?`${(s/1048576).toFixed(1)} МБ`:s>=1024?`${Math.round(s/1024)} КБ`:`${Math.round(s)} Б`}function k(){const s=h(),[l,r]=n.useState([]),c=n.useCallback(()=>{_().then(e=>r(e.sort((i,x)=>x.createAt-i.createAt).map(i=>({id:i.id,name:i.name,createAt:new Date(i.createAt).toLocaleString(),size:i.file.size}))))},[]),d=n.useCallback(()=>s("/start"),[s]),m=n.useCallback(e=>{s(`/visualization/${e}`)},[s]),u=n.useCallback(e=>{j(e).then(()=>c())},[c]);return n.useEffect(()=>{c()},[c]),t.jsx("div",{className:a.container,children:l.length===0?t.jsxs("div",{className:a.empty,children:[t.jsx("p",{children:"История пуста"}),t.jsx(o,{size:"small",onClick:d,children:"Создать визуализацию"})]}):t.jsxs("div",{className:a.list,children:[t.jsx("h1",{children:"История"}),l.map(e=>t.jsxs("div",{className:a.item,children:[t.jsxs("div",{className:a.item_text,children:[t.jsxs("p",{children:["Файл: ",t.jsx("span",{children:e.name})]}),t.jsxs("p",{children:["От: ",t.jsx("span",{children:e.createAt})]}),t.jsxs("p",{children:["Размер: ",t.jsx("span",{children:f(e.size)})]})]}),t.jsxs("div",{className:a.controls,children:[t.jsx(o,{size:"small",onClick:u.bind(null,e.id),children:"Удалить"}),t.jsx(o,{size:"small",onClick:m.bind(null,e.id),children:"Перейти"})]})]},e.id))]})})}const F=n.memo(k);export{F as default};
